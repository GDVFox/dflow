# machine_node

Запускается в единственном экземпляре на каждом сервере, служит для запуска/контроля/отключения действий на конкретном сервере.

## Конфигурация

Пример конфигурации можно посмотреть [тут](../examples/configs/meta_node_config.yaml).

| Параметр      | Значение по умолчанию | Описание |
| ------------- | ------------- | ----- |
| http.host | 0.0.0.0 | хост, на котором запускается сервисный сервер, указывается в конфигурации meta_node |
| http.port | 8080 | порт, на котором запускается сервисный сервер, указывается в конфигурации meta_node |
| logging.logfile | stdout | Имя файла для логирования или же stdout для записи в консоль |
| logging.level | info | Уровень логирования |
| logging.truncate-file | false | Если true, очищает файл перед началом записи логов при включении |
| etcd.endpoints | [] | Список адресов узлов etcd в формате `host:port` |
| etcd.timeout | 1m | Таймаут при обращении к etcd |
| etcd.retry.delay | 1s | Задержка между попытками обращения к etcd |
| etcd.retry.count | 5 | количество попыток обращения к etcd |
| watcher.pings-to-stop | 3 | количество непрошедших ping к действию, для признания его неработающим |
| watcher.ping-freq | 5s | время между запросами к действия для получения информации их состоянии |
| runtime.action-start-retry.delay | 1s | задержка между начальными ping, для признания действия запущенным |
| runtime.action-start-retry.count | 5 | количество запросов к действию, для проверки запуска |
| runtime.binary-path | runtime | путь к бинарному файлу рантайма |
| runtime.logs-dir | runtime-logs | путь к папке с логами рантаймов |
| runtime.logs-level | info | уровень логирования рантаймов |
| runtime.timeout | 5s | таймаут на операции с рантаймом |
| runtime.ack-period | 5s | частота отправки ack сообщений у создаваемых рантаймов |
| runtime.forward-log-dir | /tmp/dflow-log | директория для записи |
